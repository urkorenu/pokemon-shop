{% extends "base.html" %}

{% block content %}
<h2 class="text-center mb-4">{{ _("Upload New Pok√©mon Card") }}</h2>

<form action="{{ url_for('seller.upload_card') }}" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="set_name" class="form-label">{{ _("Set Name:") }}</label>
        <input class="form-control" list="sets" id="set_name" name="set_name" placeholder="{{ _('Type to search...') }}" required>
        <datalist id="sets">
            {% for set in sets %}
            <option value="{{ set.name }}">{{ set.name }}</option>
            {% endfor %}
        </datalist>
    </div>

    <div class="mb-3">
        <label for="number" class="form-label">{{ _("Card Number:") }}</label>
        <input type="text" id="number" name="number" class="form-control" placeholder="{{ _('Enter card number') }}" required>
    </div>

    <div class="mb-3">
        <label for="name" class="form-label">{{ _("Card Name:") }}</label>
        <input type="text" id="name" name="name" class="form-control" placeholder="{{ _('Card name will be auto-filled') }}" readonly required>
    </div>

    <div class="mb-3">
        <label for="card_type" class="form-label">{{ _("Card Type:") }}</label>
        <select id="card_type" name="card_type" class="form-select" required>
            <option value="">{{ _("Select Card Type") }}</option>
        </select>
    </div>

    <div class="mb-3">
        <label for="price" class="form-label">{{ _("Price:") }}</label>
        <div class="input-group">
            <span class="input-group-text">{{ _("ILS") }}</span>
            <input type="number" id="price" name="price" step="0.01" class="form-control" placeholder="{{ _('Enter price manually') }}">
        </div>
        <div class="form-check mt-2">
            <input type="checkbox" id="follow_tcg" name="follow_tcg" class="form-check-input">
            <label for="follow_tcg" class="form-check-label">{{ _("Follow TCGPlayer Price (The price is for Ungraded in NM condition)") }}</label>
        </div>
    </div>

    <div class="mb-3">
        <label for="condition" class="form-label">{{ _("Condition:") }}</label>
        <select id="condition" name="condition" class="form-select" required>
            <option value="NM">{{ _("Near Mint (NM)") }}</option>
            <option value="LP">{{ _("Lightly Played (LP)") }}</option>
            <option value="MP">{{ _("Moderately Played (MP)") }}</option>
            <option value="HP">{{ _("Heavily Played (HP)") }}</option>
            <option value="DMG">{{ _("Damaged (DMG)") }}</option>
        </select>
        <small class="text-muted" id="tcg_warning" style="display: none;">
            {{ _("To follow TCGPlayer Price, the condition must be 'Near Mint (NM)'.") }}
        </small>
    </div>

    <div class="form-check mb-3">
        <input type="checkbox" id="is_graded" name="is_graded" class="form-check-input">
        <label for="is_graded" class="form-check-label">{{ _("Is Graded?") }}</label>
    </div>

    <div id="graded_fields" class="mb-3" style="display: none;">
        <label for="grade" class="form-label">{{ _("Grade (1-10):") }}</label>
        <input type="number" id="grade" name="grade" step="0.5" min="1" max="10" class="form-control" placeholder="{{ _('Enter grade') }}">
        <label for="grading_company" class="form-label mt-3">{{ _("Grading Company:") }}</label>
        <select id="grading_company" name="grading_company" class="form-select">
            <option value="CGC">{{ _("CGC") }}</option>
            <option value="PSA">{{ _("PSA") }}</option>
            <option value="Beckett">{{ _("Beckett") }}</option>
        </select>
    </div>

    <div class="mb-3">
        <label for="image" class="form-label">{{ _("Card Image:") }}</label>
        <input type="file" id="image" name="image" class="form-control" accept="image/*" required>
    </div>

    <div class="mt-4">
        <button type="submit" class="btn btn-primary">{{ _("Upload") }}</button>
    </div>
</form>
{% endblock %}